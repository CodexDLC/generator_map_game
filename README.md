# **WorldForge Engine & Editor**

**WorldForge** — это инструментарий для процедурной генерации игровых миров, состоящий из двух ключевых компонентов:

1. **Графический редактор нодов (`editor`)**: Визуальная среда на базе PySide6 и NodeGraphQt, позволяющая проектировать, настраивать и в реальном времени просматривать логику генерации ландшафта.
    
2. **Движок генерации (`game_engine_restructured`)**: Высокопроизводительная библиотека на Python, использующая NumPy и Numba для выполнения сложных алгоритмических задач по созданию карт высот, климата, текстурных слоев и других игровых данных.
    

Проект нацелен на создание сложных, детерминированных и художественно управляемых миров для использования в игровых движках, таких как Godot.

## **Ключевые возможности**

- **Нодовый интерфейс**: Вся логика генерации строится в виде графа, где каждая нода представляет собой определенный шаг алгоритма (генерация шума, применение маски, наложение эффектов). Это обеспечивает гибкость и наглядность процесса.
    
- **Недеструктивный рабочий процесс**: Изменение параметров в любой точке графа не разрушает предыдущие шаги, позволяя итерировать и настраивать результат без необходимости начинать все сначала.
    
- **3D-превью в реальном времени**: Интегрированное окно предпросмотра на базе `vispy` отображает результат вычислений, позволяя мгновенно оценить вносимые изменения.
    
- **Система проектов и пресетов**: Редактор поддерживает полноценную работу с проектами, включая создание, сохранение и управление различными пресетами генерации (например, для разных биомов) внутри одного проекта.
    
- **Тайловая генерация**: Поддерживается режим "Tiled Apply", который разбивает большую карту на фрагменты (тайлы) и вычисляет их параллельно, что позволяет создавать миры, значительно превышающие объем доступной оперативной памяти.
    
- **Расширяемость**: Архитектура позволяет легко добавлять новые ноды с уникальной логикой, расширяя возможности генератора.
    

## **Технологический стек**

- **GUI**: PySide6
    
- **Нодовый редактор**: NodeGraphQt
    
- **3D-визуализация**: VisPy
    
- **Вычисления**: NumPy, SciPy, Numba
    
- **Вспомогательные библиотеки**: psutil, Pillow
    

## **Установка и запуск**

### 1. Предварительные требования

- Python 3.12+
    
- Git
    

### 2. Установка

1. **Склонируйте репозиторий:**
    
    Bash
    
    ```
    git clone <your-repository-url>
    cd generator_map_game
    ```
    
2. **Создайте и активируйте виртуальное окружение:**
    
    Bash
    
    ```
    python -m venv .venv
    # Windows
    .venv\Scripts\activate
    # macOS / Linux
    source .venv/bin/activate
    ```
    
3. **Установите зависимости:**
    
    Bash
    
    ```
    pip install -r requirements.txt
    ```
    

### 3. Запуск редактора

Для запуска редактора выполните команду в корневой папке проекта:

Bash

```
python run_editor.py
```

При первом запуске вам будет предложено выбрать или создать папку для хранения ваших проектов.

## **Структура проекта**

```
/
├── editor/                 # Исходный код графического редактора (UI, ноды, виджеты)
├── game_engine_restructured/ # Исходный код движка генерации (алгоритмы, ядро)
├── docs/                   # Папка для сопроводительной документации
├── .idea/                  # Настройки IDE (добавлены в .gitignore)
├── requirements.txt        # Список зависимостей Python
└── run_editor.py           # Главный скрипт для запуска приложения
```

## **Дальнейшее развитие**

Проект активно развивается. Планируется внедрение следующих систем:

- **Модульное и интеграционное тестирование (`pytest`)**: Покрытие ключевых алгоритмов движка и логики нодов тестами для обеспечения стабильности и предсказуемости результатов.
    
- **Интеграция с базой данных**: Разработка механизмов для сохранения и управления сгенерированными данными в структурированном виде (например, SQLite или PostgreSQL) для последующего использования на игровом сервере.
    
- **Расширение CLI (Command Line Interface)**: Создание интерфейса командной строки для автоматической генерации миров на сервере без запуска графического интерфейса.